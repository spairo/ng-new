<div class="breadcrumb">
  <a nav="#!/">Home</a>
</div>
<br />
<div class="row">
  <div class="col-12">
    <ul class="tabs portfolio">
      <li (click)="activeTab = 'banquero'; tabCode = 'B000';" [ngClass]="{current: activeTab === 'banquero'}">
        <span>Mi Portafolio</span>
      </li>
      <li (click)="activeTab = 'default'; tabCode = '0000';" [ngClass]="{current: activeTab === 'default'}">
        <span>Cierres recientes</span>
      </li>
      <li class="add" *ngFor="let tab of tabs; let i = index;" (click)="activeTab = i; tabCode = tab.codigo; portafolioTab(tab.codigo); filterSubjacents();">
        {{tab.name}}
      </li>
      <li class="add" style="background-color: #B3B3B3;" (click)="goNew();">
        <span>Crear portafolio</span>
        <i class="plus tooltip newPlus"></i>
      </li>
      <li class="last" *ngIf="banquero" style="width:calc(100% - (165 * {{tabs.length + 3}}px));"><i class="traffic-loading tooltip">
          <div class="content">
            <div class="txt">Registro de semáforos</div>
          </div></i>
      </li>
    </ul>
    <div *ngIf="activeTab === 'banquero'">
      <h1>soy banquero</h1>
    </div>


    <div class="row">
      <div class="col-9">
        <div class="row">
          <div class="col-8 align-left pr-0">
            <ul class="nav-subjacents">
              <li [ngClass]="{activeTab: subyacenteTab === 'TODO'}" (click)="subyacente = null;">TODO</li>
              <li *ngFor="let subjacent of subjacents; let i = index" [ngClass]="{activeTab: subyacenteTab === i}">{{subjacent.name}}</li>
            </ul>
          </div>
          <div class="col-4 align-right pr-0 mr-10">
            <!--<i class="filter on mb-10 mr-10" (click)="main.filterPortfolio = !main.filterPortfolio;"></i>-->
            <i class="views" (click)="main.listed = !main.listed"></i>
          </div>
        </div>
        <div class="row">
          <div class="col-12">
            <div class="box-portfolio" [ngClass]="{defeated: !box.stActivo}" *ngFor="let box of boxes" (click)="detail(box.series, box.id);">
              <div class="title-box">
                <div class="traffic-light tooltip" *ngIf="box.estatus === 1 || box.estatus === 3 || box.estatus === 7" [ngStyle]="{'background-color': box.semaforo.color}">
                  <div class="content" *ngIf="box.semaforo.comentario !== null">
                    <span>{{ box.semaforo.comentario }}</span>
                  </div>
                </div>
                <span class="serie">{{ box.series }}</span>
                <span class="inline payoff"> Call Spread {{ box.tpPayoff }}</span>
                <img src="./assets/img/plus.png" />
                <span class="inline actives">Índice Eurostoxx 50® {{ box.activos }}</span>
                <span class="inline price"> {{ box.activos }}</span>
                <span class="inline price">100{{ box.activos }}%</span>
              </div>
              <div class="content-prices">
                <div class="block">
                  <i class="performance" ng-class="{down: box.diferencia &lt; 0}" *ngIf="box.diferencia"></i>
                  <span class="price" [ngClass]="{down: box.diferencia &lt; 0, up: box.diferencia &gt; 0}">{{ box.imPrecio }}</span>
                  <span class="currency" [ngClass]="{down: box.diferencia &lt; 0, up: box.diferencia &gt; 0}">{{ box.cdDivisa }}</span>
                  <span class="performance">
                    <span *ngIf="box.diferencia &gt; 0">+</span>
                    <span>{{ box.priceDifference.amount }}%</span>
                  </span>
                </div>
                <span class="date">Precio al {{box.status}} {{ box.priceDate }}</span>
              </div>
              <div class="content-graphic">
                <canvas baseChart width="800" height="800"
                [datasets]="lineChartData"
                [labels]="lineChartLabels"
                [options]="lineChartOptions"
                [legend]="lineChartLegend"
                [chartType]="lineChartType">
                </canvas>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-3">
        <new-lateral></new-lateral>
      </div>
    </div>
  </div>
</div>
